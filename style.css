body {
	 margin:0; 
	 padding:0; 
	 font-family:sans-serif; 
	 background:#f7f8fa; 
	 color:#111; 
	 display:flex; 
	 flex-direction:column; 
	 align-items:center; 
	 min-height:100vh; 
	 }
a {
	 text-decoration: none;
	 color: #748eb1;
}
header { 
	 max-width:1024px; 
	 width:100%; 
	 display:flex; 
	 justify-content:space-between; 
	 align-items:center; 
	 padding:1rem; 
	 box-sizing:border-box; 
	 }
header h1 {
	 font-size:1.25rem; 
	 font-weight:600; 
	 color:#1f2937; 
	 }
.btn { 
	 background:#fff; 
	 border:1px 
	 solid #cbd5e1; 
	 border-radius:0.5rem; 
	 padding:0.5rem 1rem; 
	 margin-left:0.5rem; 
	 cursor:pointer; 
	 transition:all 0.2s; 
	 color:#1e40af; 
	 font-weight:500
	 }
.btn:hover { 
	 background:#e0f2fe; 
	 border-color:#3b82f6; 
	 }
.btn:active { 
	transform:scale(0.95); 
	 }
main { 
	 max-width:1024px; 
	 width:100%; 
	 display:flex; 
	 gap:1.5rem; 
	 flex-wrap: 
	 wrap; padding:1rem; 
	 }
.panel { 
	 background:#f0f4f8; 
	 border-radius:1rem; 
	 padding:1rem; 
	 flex-shrink:0; 
	 width:280px; 
	 box-shadow:0 2px 8px rgba(0,0,0,0.05); 
	 }
.panel label { 
	 font-size:0.75rem; 
	 color:#6b7280; 
	 }
.switch { 
	 position:relative; 
	 display:inline-block; 
	 width:40px; 
	 height:20px; 
	 margin-left:0.5rem; 
	 }
.switch input { 
	 display:none;
	 }
.slider { 
	 position:absolute; 
	 top:0; 
	 left:0; 
	 right:0; 
	 bottom:0; 
	 background:#cbd5e1; 
	 border-radius:20px; transition:0.2s; 
	 }
.slider::before { 
	 position:absolute; 
	 content:""; 
	 width:16px; 
	 height:16px; 
	 left:2px; 
	 bottom:2px; 
	 background:#fff; 
	 border-radius:50%; 
	 transition:0.2s;
	 }
input:checked + .slider { 
	 background:#3b82f6;
	 }
input:checked + .slider::before { 
	 transform:translateX(20px); 
	 }
.bubble-grid { 
	 display:grid; 
	 gap:6px; 
	 background:#fff; 
	 padding:0.5rem; 
	 border-radius:1rem; 
	 box-shadow:0 2px 8px rgba(0,0,0,0.05); 
	 touch-action:none; 
	 user-select:none;
	 }
.bubble { 
	 border-radius:50%; 
	 background: linear-gradient(180deg, #ffffff, #e5e7eb);
	 box-shadow: inset 0 5px 10px rgba(2,6,23,0.06), inset 0 1px 0 rgba(255,255,255,0.5); 
	 position: relative; 
	 cursor: pointer; 
	 transition: transform 0.15s ease; 
	 display:flex; 
	 justify-content:center; 
	 align-items:center; 
	 overflow:hidden; 
	 }
.bubble::after { 
	 content:""; 
	 width:60%; 
	 height:60%; 
	 border-radius:50%; 
	 background: rgba(255,255,255,0.85); 
	 pointer-events:none; 
	 animation: highlight 2s infinite alternate; 
	 position:absolute; 
	 }
.bubble::before { 
	 content:""; 
	 position:absolute; 
	 top:0; 
	 left:0; 
	 width:100%; 
	 height:100%; 
	 background: radial-gradient(rgba(255,255,255,0.08) 1px, transparent 1px); 
	 background-size: var(--texture-size, 4px) var(--texture-size, 4px); 
	 opacity: var(--texture-opacity, 0.08); 
	 border-radius:50%; 
	 pointer-events:none; 
	 animation: shimmer 3s infinite alternate; 
	 }
.bubble.custom-img { 
	 box-shadow:none; 
	 background:none;
	 }
.bubble.custom-img img{ 
	 width:100%; 
	 height:100%; 
	 border-radius:50%; 
	 object-fit:cover; 
	 }
@keyframes highlight { 
	0% { 
		transform: translateY(0); 
		opacity:0.7; 
		} 
	100% { 
		transform: translateY(2px); 
		opacity:0.9; 
		} 
	 }
@keyframes shimmer { 
	0% { 
		background-position: 0 0; 
		} 
	100% { 
		background-position: 2px 2px; 
		} 
	 }
.footer { 
	 margin-top:2rem; 
	 font-size:0.75rem; 
	 color:#9ca3af; 
	 }
.audio-btn { 
	 background:#fff; 
	 border:1px solid #cbd5e1; 
	 border-radius:0.5rem; 
	 padding:0.25rem 0.5rem; 
	 margin:0.25rem; 
	 cursor:pointer; 
	 color:#1e3a8a; 
	 font-size:0.75rem; 
	 transition:0.2s;
	 }
.audio-btn.selected { 
	 background:#748eb1; 
	 color:#fff; 
	 border-color:#2d4f7a;
	 }

/* 裁剪弹窗样式 */
#cropModal { 
	 position:fixed; 
	 top:0; 
	 left:0; 
	 width:100%; 
	 height:100%; 
	 background:rgba(0,0,0,0.5); 
	 display:none; 
	 justify-content:center; 
	 align-items:center; 
	 z-index:1000; 
	 }
#cropModal canvas { 
	 background:#fff; 
	 border-radius:50%;
	 }
#cropControls { 
	margin-top:0.5rem; 
	display:flex; 
	gap:0.5rem; 
	justify-content:center;
	 }

/* 网格容器优化移动端 */
.bubble-grid {
	display: grid;
	gap: 4px; /* 间距稍小，防止溢出 */
	background:#fff;
	padding:4px;
	border-radius:1rem;
	touch-action:none;
	user-select:none;
	max-width: 100vw; /* 限制宽度不超屏 */
	width: fit-content; /* 根据列数自动宽度 */
	box-sizing: border-box;
	overflow-x: auto; /* 超出时可滚动 */
	 }

/* 调整泡泡大小在移动端 */
@media (max-width: 640px) {
	.bubble {
	width: calc((100vw - 12px)/10); /* 根据列数动态调整泡泡大小 */
	height: calc((100vw - 12px)/10);
	 }
}

/* 移动端垂直居中且紧凑 */
@media (max-width: 768px) {
  body, html {
    height: 100%;
  }

  main {
    display: flex;
    flex-direction: column; /* 保持垂直堆叠 */
    justify-content: center; /* 垂直居中 */
    align-items: center;     /* 水平居中 */
    min-height: 100vh;
    gap: 0.5rem; /* 原来可能是 1rem 或更多，改小为 0.5rem */
  }

  /* 侧边栏和泡泡纸区域紧凑 */
  section:first-child {
    margin-bottom: 0.5rem; /* 原本可能更大，缩小间距 */
  }

  section:last-child {
    display: flex;
    justify-content: center;
    align-items: center;
  }
}

/* 移动端 main 紧凑上下边距 */
@media (max-width: 768px) {
  main {
    padding-top: 1rem;   /* 原来可能更大，改小 */
    padding-bottom: 1rem;
    min-height: auto;     /* 去掉 min-height: 100vh 造成的大空白 */
  }
}

/* 移动端标题和控制区换行显示 */
@media (max-width: 768px) {
  header {
    flex-direction: column; /* 竖向排列 */
    align-items: center;     /* 水平居中 */
    text-align: center;      /* 标题居中 */
    gap: 6px;                /* 让标题和下面的div间距更紧凑 */
  }

  header h1 {
    font-size: 1.3rem;       /* 调小移动端标题 */
    margin-bottom: 4px;
  }

  header > div {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 4px;
  }
}

